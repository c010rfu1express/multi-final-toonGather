package com.multi.toonGather.config;import com.multi.toonGather.security.CustomUserDetails;import com.multi.toonGather.user.model.dto.UserDTO;import jakarta.servlet.http.HttpServletRequest;import jakarta.servlet.http.HttpServletResponse;import org.springframework.security.authentication.AnonymousAuthenticationToken;import org.springframework.security.core.Authentication;import org.springframework.security.core.context.SecurityContextHolder;import org.springframework.stereotype.Component;import org.springframework.web.servlet.HandlerInterceptor;@Componentpublic class LoginUserNicknameInterceptor implements HandlerInterceptor {    @Override    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {        Authentication prevAuth = SecurityContextHolder.getContext().getAuthentication();        if (prevAuth != null && prevAuth.isAuthenticated() && !(prevAuth instanceof AnonymousAuthenticationToken)) {            CustomUserDetails customUserDetails = (CustomUserDetails) prevAuth.getPrincipal();            UserDTO userDTO = customUserDetails.getUserDTO();            // 사용자 정보 추가            request.setAttribute("userData", userDTO.getNickname());        }        return true; // true를 반환하면 요청을 계속 처리    }}